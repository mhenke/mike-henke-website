<!-- Shared head section for all layouts -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

{# SEO & Social Meta Tags #}
<title>{{ title if title else 'Mike Henke | Coder. Engineer. Professional.' }}</title>
<meta name="description" content="{{ description or 'Mike Henke - Full-stack web and mobile developer with 15+ years of experience. Specializing in JavaScript, Python, React, and modern web technologies.' }}">
<meta name="author" content="Mike Henke">
<meta name="robots" content="index, follow">

{# PERFORMANCE: Open Graph only on blog/article pages #}
{% if title == 'Blog' or page.url.startsWith('/blog/') %}
<meta property="og:type" content="article">
<meta property="og:title" content="{{ title }}">
<meta property="og:description" content="{{ description or 'Technical blog about web development by Mike Henke.' }}">
<meta property="og:url" content="{{ page.url | absoluteUrl(site.url) }}">
<meta property="og:site_name" content="Mike Henke">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="{{ title }}">
<meta name="twitter:description" content="{{ description or 'Technical blog about web development by Mike Henke.' }}">
{% endif %}

<!-- PERFORMANCE: DNS prefetch for faster font loading -->
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com">
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com">

<!-- Preconnect to external domains -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- PERFORMANCE: Critical font loading only -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

<!-- PERFORMANCE: Load Font Awesome only if needed -->
{% if page.url == '/' or page.url.includes('/blog/') %}
<link rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" 
      crossorigin="anonymous">
{% endif %}

<!-- PERFORMANCE: Load syntax highlighting only on blog pages -->
{% if page.url.includes('/blog/') %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" 
      rel="stylesheet" crossorigin="anonymous">
{% endif %}

<!-- Critical CSS first -->
<link rel="stylesheet" href="{{ '/styles.css' | url }}">

<!-- PERFORMANCE: Load search CSS only on search page -->
{% if page.url.includes('/search/') %}
<link href="{{ '/pagefind/pagefind-ui.css' | url }}" rel="stylesheet">
{% endif %}

<!-- Favicon -->
<link rel="icon" href="{{ '/favicon.ico' | url }}">

{# PERFORMANCE: Minimal JSON-LD only where needed #}
{% if title == 'Blog' or page.url.startsWith('/blog/') %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "Mike Henke's Blog",
  "url": "{{ page.url | absoluteUrl(site.url) }}",
  "author": {"@type": "Person", "name": "Mike Henke"}
}
</script>
{% endif %}
